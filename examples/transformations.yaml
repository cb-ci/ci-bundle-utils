# Sets
patches:
  jenkins.yaml:
  - op: remove
    path: /license
  - op: remove
    path: /jenkins/securityRealm

# Autosetting
# - github-token-ro/password -> GITHUB_TOKEN_RO_PASSWORD
# - github-token-rw/password -> GITHUB_TOKEN_RW_PASSWORD
# Explicit
# - id: github-token-ro
#   password: ${MY_READ_TOKEN}
credentials:
  jenkins.yaml:
  - id: github-token-ro
    password: "${MY_READ_TOKEN}"
  - id: github-token-rw
    password: "${MY_WRITE_TOKEN}"
  items.yaml:
  - id: test-folder-cred
    password: "${MY_FOLDER_TOKEN}"


# all
splits:
  items:
    # Split by name on regex (auto takes each item separately)
    items.yaml:
    - target: auto
      patterns: ['casc-test-.*']
    - target: controllers.yaml
      patterns: ['controller-.*']
    - target: admin.yaml
      patterns: ['admin-controller']

  jcasc:
    # Split by path (auto takes each item separately, replacing '/' with '.')
    jenkins.yaml:
    - target: auto
      paths:
      - credentials
      - jenkins/clouds
      - advisor
      - beekeeper
      - cloudBeesCasCServer
      - controllerLifecycleNotifications
      - support
    - target: kubernetes.yaml
      paths:
      - masterprovisioning
      - kube



